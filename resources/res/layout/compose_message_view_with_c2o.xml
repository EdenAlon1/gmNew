<?xml version="1.0" encoding="utf-8"?>
<com.google.android.apps.messaging.ui.conversation.ComposeMessageView xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/message_compose_view_container_with_c2o"
    android:background="@drawable/compose_message_view_background"
    android:paddingTop="@dimen/compose_message_view_top_padding"
    android:clipChildren="false"
    android:clipToPadding="false"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:backgroundTint="?attr/colorPrimaryBackground">
    <ImageView
        android:id="@+id/plus_button"
        android:visibility="gone"
        android:layout_width="@dimen/compose_message_view_attach_button_size"
        android:layout_height="@dimen/compose_message_view_attach_button_size"
        android:contentDescription="@string/attachMediaButtonContentDescription"
        android:paddingStart="16dp"
        android:paddingEnd="6dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toStartOf="@+id/camera_gallery_button"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintVertical_bias="1"
        style="@style/ComposeEntryButtonStyle"/>
    <ImageView
        android:id="@+id/camera_gallery_button"
        android:visibility="gone"
        android:layout_width="52dp"
        android:layout_height="@dimen/compose_message_view_attach_button_size"
        android:contentDescription="@string/c2o_open_gallery_button_content_description"
        android:paddingStart="10dp"
        android:paddingEnd="16dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toStartOf="@+id/compose_message_box_linear_layout"
        app:layout_constraintStart_toEndOf="@+id/plus_button"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintVertical_bias="1"
        style="@style/ComposeEntryButtonStyle"/>
    <ImageView
        android:id="@+id/expand_attach_button"
        android:visibility="invisible"
        android:layout_width="@dimen/compose_message_view_attach_button_size"
        android:layout_height="0dp"
        android:layout_marginBottom="8dp"
        android:foreground="@drawable/ripple_20dp"
        android:src="@drawable/quantum_ic_chevron_right_black_24"
        android:scaleType="center"
        android:tint="?attr/colorInactiveComposeIcon"
        android:contentDescription="@string/expand_attach_button_content_description"
        android:scaleX="0"
        android:scaleY="0"
        android:layout_marginStart="@dimen/compose_message_view_attach_button_margin_start"
        android:elevation="@dimen/compose_message_view_elevation"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toStartOf="@+id/compose_message_box_linear_layout"
        app:layout_constraintHeight_max="@dimen/compose_message_view_attach_button_size"
        app:layout_constraintHorizontal_bias="0"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintVertical_bias="1"/>
    <LinearLayout
        android:orientation="vertical"
        android:id="@+id/compose_message_box_linear_layout"
        android:background="@drawable/compose_message_view_message_background_m2"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginBottom="@dimen/compose_message_view_margin"
        android:layout_marginEnd="@dimen/compose_message_view_margin_end"
        android:elevation="@dimen/compose_message_view_elevation"
        android:outlineProvider="background"
        android:clipToOutline="true"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintVertical_bias="1">
        <ViewStub
            android:id="@+id/scheduled_send_compose_label_stub"
            android:visibility="gone"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"/>
        <ViewStub
            android:id="@+id/reply_snippet_stub"
            android:layout="@layout/reply_snippet_view"
            android:inflatedId="@+id/reply_snippet_inflated"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"/>
        <LinearLayout
            android:orientation="vertical"
            android:id="@+id/subject_view"
            android:visibility="gone"
            android:clipChildren="false"
            android:clipToPadding="false"
            android:layout_width="match_parent"
            android:layout_height="wrap_content">
            <LinearLayout
                android:gravity="end"
                android:layout_gravity="end"
                android:id="@+id/priority_checkbox_container"
                android:visibility="gone"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content">
                <TextView
                    android:textSize="14sp"
                    android:layout_gravity="center_vertical"
                    android:id="@+id/priority_text"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/urgent_with_c2o"/>
                <CheckBox
                    android:id="@+id/priority_checkbox"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_margin="12dp"
                    android:button="@drawable/urgent_checkbox_selector"
                    android:contentDescription="@string/set_message_priority_description"
                    style="@style/CheckBoxStyle"/>
            </LinearLayout>
            <RelativeLayout
                android:orientation="horizontal"
                android:id="@+id/subject_container"
                android:clipChildren="false"
                android:clipToPadding="false"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">
                <com.google.android.apps.messaging.ui.conversation.compose.PlainTextEditText
                    android:textColorHint="@color/compose_subject_urgent_text_color"
                    android:id="@+id/compose_subject_text"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="@string/compose_message_view_subject_hint_text"
                    android:imeOptions="flagNoExtractUi"
                    android:layout_toStartOf="@+id/delete_subject_button"
                    android:layout_alignParentStart="true"
                    style="@style/ConversationCompose2oSubjectText"/>
                <ImageButton
                    android:id="@+id/delete_subject_button"
                    android:background="?android:attr/selectableItemBackgroundBorderless"
                    android:padding="@dimen/delete_btn_padding"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:src="@drawable/quantum_ic_cancel_grey600_24"
                    android:tint="@color/delete_subject_button_color"
                    android:contentDescription="@string/delete_subject_content_description"
                    android:layout_alignParentEnd="true"/>
            </RelativeLayout>
            <View
                android:id="@+id/compose_message_top_border"
                android:layout_width="match_parent"
                android:layout_height="@dimen/compose_message_top_border_height"/>
        </LinearLayout>
        <com.google.android.apps.messaging.ui.attachment.AttachmentsContainer
            android:layout_gravity="start"
            android:id="@+id/attachments_container"
            android:visibility="gone"
            android:scrollbars="none"
            android:longClickable="false"
            android:clipToPadding="false"
            android:layout_width="match_parent"
            android:layout_height="@dimen/compose_attachment_container_height"
            android:paddingStart="@dimen/attachment_preview_padding_horizontal"
            android:paddingEnd="@dimen/attachment_preview_padding_horizontal_end"/>
        <LinearLayout
            android:orientation="horizontal"
            android:id="@+id/compose_message_container"
            android:clipChildren="false"
            android:clipToPadding="false"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:baselineAligned="false">
            <FrameLayout
                android:id="@+id/compose_message_text_container"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:clipToOutline="true">
                <com.google.android.apps.messaging.ui.conversation.compose.PlainTextEditText
                    android:id="@+id/compose_message_text"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="@string/compose_message_view_sms_mms_hint_text"
                    android:imeOptions="flagNoEnterAction|flagNoExtractUi|actionSend"
                    style="@style/ConversationCompose2oSendText"/>
            </FrameLayout>
            <FrameLayout
                android:layout_gravity="bottom"
                android:id="@+id/emoji_gallery_button_container"
                android:clipChildren="false"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content">
                <View
                    android:id="@+id/compose_gk_tooltip_anchor"
                    android:focusable="false"
                    android:layout_width="1dp"
                    android:layout_height="1dp"
                    android:layout_marginTop="@dimen/conversation_compose_gk_tooltip_anchor_margin_top"
                    android:importantForAccessibility="no"
                    android:layout_marginStart="@dimen/conversation_compose_gk_tooltip_anchor_margin_start"/>
                <ViewStub
                    android:layout_gravity="bottom"
                    android:id="@+id/emoji_button_view_stub"
                    android:layout="@layout/emoji_gallery_button"
                    android:inflatedId="@+id/emoji_gallery_button"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>
            </FrameLayout>
            <LinearLayout
                android:gravity="bottom"
                android:layout_gravity="bottom"
                android:orientation="vertical"
                android:id="@+id/send_message_button_container"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_weight="0"
                android:contentDescription="@string/send_button_content_description"
                style="@style/ComposeMessageViewSendButtonContainerStyle">
                <TextView
                    android:id="@+id/char_counter"
                    android:visibility="gone"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:maxLines="1"
                    style="@style/ComposeMessageViewTextCounterStyle"/>
                <LinearLayout
                    android:gravity="center"
                    android:layout_gravity="bottom"
                    android:orientation="vertical"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:minWidth="@dimen/min_touch_target_size"
                    android:minHeight="@dimen/min_touch_target_size"
                    android:paddingStart="@dimen/conversation_compose_message_send_padding_start"
                    android:paddingEnd="@dimen/conversation_compose_message_send_padding_end">
                    <LinearLayout
                        android:orientation="horizontal"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content">
                        <com.google.android.apps.messaging.shared.ui.AsyncImageView
                            android:id="@+id/send_message_button_icon"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:importantForAccessibility="no"/>
                    </LinearLayout>
                    <TextView
                        android:id="@+id/message_indicator"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/compose_message_send_indicator_margin_top"
                        android:text="@string/sms_text"
                        android:maxLines="1"
                        android:includeFontPadding="false"
                        android:importantForAccessibility="no"
                        style="@style/MessageIndicatorStyle"/>
                </LinearLayout>
            </LinearLayout>
        </LinearLayout>
    </LinearLayout>
    <ImageView
        android:id="@+id/compress_info_image_view"
        android:background="@drawable/media_compress_info_icon_ripple_effect"
        android:padding="@dimen/compress_info_image_view_padding"
        android:visibility="gone"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/quantum_ic_info_outline_black_24"
        android:contentDescription="@string/media_compress_tooltip_info_icon_text"
        android:elevation="@dimen/compose_message_view_elevation"
        app:layout_constraintBottom_toBottomOf="@+id/compose_message_box_linear_layout"
        app:layout_constraintEnd_toEndOf="@+id/compose_message_box_linear_layout"/>
    <ViewStub
        android:layout_gravity="center"
        android:id="@+id/audio_timer_dot_view_stub"
        android:layout="@layout/voice_messages_record_timer_dot"
        android:inflatedId="@+id/audio_timer_dot"
        android:layout_width="@dimen/conversation_audio_timer_dot_width"
        android:layout_height="@dimen/conversation_audio_timer_dot_height"
        android:layout_marginBottom="@dimen/conversation_audio_timer_dot_margin_bottom"
        android:layout_marginStart="@dimen/conversation_audio_timer_dot_margin_start"
        app:layout_constraintBottom_toBottomOf="@+id/compose_message_box_linear_layout"
        app:layout_constraintStart_toStartOf="@+id/compose_message_box_linear_layout"/>
    <ViewStub
        android:layout_gravity="center"
        android:id="@+id/audio_timer_view_stub"
        android:layout="@layout/voice_messages_record_timer"
        android:inflatedId="@+id/audio_timer_text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginStart="@dimen/conversation_audio_timer_text_margin_start"
        app:layout_constraintBottom_toBottomOf="@+id/audio_timer_dot"
        app:layout_constraintStart_toEndOf="@+id/audio_timer_dot"
        app:layout_constraintTop_toTopOf="@+id/audio_timer_dot"/>
    <include
        android:id="@+id/audio_button_view"
        android:layout_width="@dimen/conversation_audio_button_width"
        android:layout_height="@dimen/conversation_audio_button_height"
        android:layout_marginBottom="@dimen/conversation_audio_button_margin_bottom"
        android:layout_marginEnd="@dimen/conversation_audio_button_margin_end"
        app:layout_constraintBottom_toBottomOf="@+id/compose_message_box_linear_layout"
        app:layout_constraintEnd_toEndOf="@+id/compose_message_box_linear_layout"
        layout="@layout/audio_button_view"/>
    <ViewStub
        android:id="@+id/audio_button_compose_view_stub"
        android:layout="@layout/audio_button_compose_view"
        android:inflatedId="@+id/audio_button_compose_view"
        android:layout_width="@dimen/conversation_audio_button_width"
        android:layout_height="@dimen/conversation_audio_button_height"
        android:layout_marginBottom="@dimen/conversation_audio_button_margin_bottom"
        android:layout_marginEnd="@dimen/conversation_audio_button_margin_end"
        app:layout_constraintBottom_toBottomOf="@+id/compose_message_box_linear_layout"
        app:layout_constraintEnd_toEndOf="@+id/compose_message_box_linear_layout"/>
    <ViewStub
        android:layout_gravity="center"
        android:id="@+id/record_cancel_button_view_v1_stub"
        android:layout="@layout/voice_messages_cancel_record_button_view_v1"
        android:inflatedId="@+id/record_cancel_button_v1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        app:layout_constraintBottom_toBottomOf="@+id/audio_button_view"
        app:layout_constraintEnd_toEndOf="@+id/audio_button_view"
        app:layout_constraintTop_toTopOf="@+id/audio_button_view"/>
</com.google.android.apps.messaging.ui.conversation.ComposeMessageView>
