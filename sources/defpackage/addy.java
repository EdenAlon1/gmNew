package defpackage;

import android.content.pm.PackageManager;
import android.content.pm.Signature;
import android.text.TextUtils;
import java.util.HashMap;

/* compiled from: PG */
/* loaded from: classes2.dex */
public final class addy {
    public final evgy d;
    private static final enru e = enru.c("com/google/android/apps/messaging/externalapi/service/ExternalMessagingApiServicePeer");
    private static final cskc f = cskc.g("ExtMsgApiService", "ServicePeer");
    public static final cfva a = cfvl.h(cfvl.b, "external_api_extra_allowed_signatures", "");
    public static final cfva b = cfvl.i(cfvl.b, "external_api_allow_debug_signature", false);
    public static final cfva c = cfvl.i(cfvl.b, "allow_any_app_to_connect_do_not_use_in_public_builds", false);

    /* JADX WARN: Multi-variable type inference failed */
    public addy(evgy evgyVar, PackageManager packageManager) {
        ensk j = e.j();
        j.Y(ente.a, "ExternalMessaging");
        ((enrr) ((enrr) j).h("com/google/android/apps/messaging/externalapi/service/ExternalMessagingApiServicePeer", "<init>", 151, "ExternalMessagingApiServicePeer.java")).q("PeerCreated");
        this.d = evgyVar;
        feey fefbVar = new fefb();
        enin eninVar = new enin();
        eninVar.c(new Signature("308204d4308203bca003020102020900d20995a79c0daad6300d06092a864886f70d01010505003081a2310b3009060355040613024b52311430120603550408130b536f757468204b6f726561311330110603550407130a5375776f6e2043697479311c301a060355040a131353616d73756e6720436f72706f726174696f6e310c300a060355040b1303444d43311530130603550403130c53616d73756e6720436572743125302306092a864886f70d0109011616616e64726f69642e6f734073616d73756e672e636f6d301e170d3131303632323132323531325a170d3338313130373132323531325a3081a2310b3009060355040613024b52311430120603550408130b536f757468204b6f726561311330110603550407130a5375776f6e2043697479311c301a060355040a131353616d73756e6720436f72706f726174696f6e310c300a060355040b1303444d43311530130603550403130c53616d73756e6720436572743125302306092a864886f70d0109011616616e64726f69642e6f734073616d73756e672e636f6d30820120300d06092a864886f70d01010105000382010d00308201080282010100c986384a3e1f2fb206670e78ef232215c0d26f45a22728db99a44da11c35ac33a71fe071c4a2d6825a9b4c88b333ed96f3c5e6c666d60f3ee94c490885abcf8dc660f707aabc77ead3e2d0d8aee8108c15cd260f2e85042c28d2f292daa3c6da0c7bf2391db7841aade8fdf0c9d0defcf77124e6d2de0a9e0d2da746c3670e4ffcdc85b701bb4744861b96ff7311da3603c5a10336e55ffa34b4353eedc85f51015e1518c67e309e39f87639ff178107f109cd18411a6077f26964b6e63f8a70b9619db04306a323c1a1d23af867e19f14f570ffe573d0e3a0c2b30632aaec3173380994be1e341e3a90bd2e4b615481f46db39ea83816448ec35feb1735c1f3020103a382010b30820107301d0603551d0e04160414932c3af70b627a0c7610b5a0e7427d6cfaea3f1e3081d70603551d230481cf3081cc8014932c3af70b627a0c7610b5a0e7427d6cfaea3f1ea181a8a481a53081a2310b3009060355040613024b52311430120603550408130b536f757468204b6f726561311330110603550407130a5375776f6e2043697479311c301a060355040a131353616d73756e6720436f72706f726174696f6e310c300a060355040b1303444d43311530130603550403130c53616d73756e6720436572743125302306092a864886f70d0109011616616e64726f69642e6f734073616d73756e672e636f6d820900d20995a79c0daad6300c0603551d13040530030101ff300d06092a864886f70d01010505000382010100329601fe40e036a4a86cc5d49dd8c1b5415998e72637538b0d430369ac51530f63aace8c019a1a66616a2f1bb2c5fabd6f313261f380e3471623f053d9e3c53f5fd6d1965d7b000e4dc244c1b27e2fe9a323ff077f52c4675e86247aa801187137e30c9bbf01c567a4299db4bf0b25b7d7107a7b81ee102f72ff47950164e26752e114c42f8b9d2a42e7308897ec640ea1924ed13abbe9d120912b62f4926493a86db94c0b46f44c6161d58c2f648164890c512dfb28d42c855bf470dbee2dab6960cad04e81f71525ded46cdd0f359f99c460db9f007d96ce83b4b218ac2d82c48f12608d469733f05a3375594669ccbf8a495544d6c5701e9369c08c810158"));
        if (((Boolean) b.e()).booleanValue()) {
            csjb c2 = f.c();
            c2.I("Adding debug signatures");
            c2.r();
            eninVar.c(new Signature("30820303308201eba003020102020420092a8e300d06092a864886f70d01010b05003032310c300a060355040613035553413111300f060355040b13084d65737361676573310f300d06035504031306476f6f676c65301e170d3230303932393136303131325a170d3435303932333136303131325a3032310c300a060355040613035553413111300f060355040b13084d65737361676573310f300d06035504031306476f6f676c6530820122300d06092a864886f70d01010105000382010f003082010a0282010100ab71c60870f8bc87602cc893485a85d46742c33f7526c2c5846c5ed5004c12a3b3d8e36623508432f646a5868bf555e838c748810fc6496dde2f3e0ab2bc4f0f01d38409f62bc7a95e0f878bbb93a1e4a88a9ada23c485b382ff1b6813c4cdf3ae864d494a0dbb6d1b76b0e090a760899baf620737c31bfe9d57357d1b35c5eeaad3059a2aa3f99baa8c13f99a47479e58d814d847eeae8af7ca9831ee4ef1f7641413a310460bc5fd0db6931865615253ef5d60d084cd1ca598fe687129dbea20c095e5476644e0519295e651d5641fae840f2930b3170b76b96f005690d0e73bc22a3c59994fe018aacab738ad8156d2324f00640e92eccf2b881c720918e70203010001a321301f301d0603551d0e04160414655b7be90386ab0e84cbb1777dcfb5d224616985300d06092a864886f70d01010b05000382010100206053c9e6e05d7361698142e520d39bf2dfc443643bb193c67850a6aa404951149f8ac48113bc46bc8e108f94eddded46a0b27b2b30b5ed914ddbbaacb2f9302f22f60339558cc1d6253e94125706920b78f4582bf9119d1e1bc4c0f400c29ed530a8a6e4064fb1c43e5cc8da0355e4485bdde65b9d0986af8cb66f41f4cd8fb151920061daef973b6c6b8dc2cac93c9dc2665d2e31037a83a7fe5599cb9a097d528a3a5f1e949960d8fd25f4bdceddbbf0196c466e4604b97324708e0e183443f0dd11358f30d33c1ce921a77ac4584b637381b14410e61cc899cd8b0db4c8f29f11a10558255e1b733b3a3e4f61eb2d3d8fb7035cc3af2851122b06675820"));
            eninVar.c(new Signature("308201dd30820146020101300d06092a864886f70d010105050030373116301406035504030c0d416e64726f69642044656275673110300e060355040a0c07416e64726f6964310b3009060355040613025553301e170d3138303830393031343932365a170d3438303830313031343932365a30373116301406035504030c0d416e64726f69642044656275673110300e060355040a0c07416e64726f6964310b300906035504061302555330819f300d06092a864886f70d010101050003818d0030818902818100ca3cd415cf800eca1e47fc23d2b275a8fb18a94c59ffd703f1e872306b9352d38140cc652c352fe44bd84539ee36c3c7f61fd9a315fb17a3ce2db94bfd55713d6e81e05f2eb0e92b0fcde691db100be02dec04a30d8e73c6b7492e8abfd2a81d7998a3aaf9f6fd24f5a3e007b90d6d58fff2ae0dd8a96f6d9de3d9eca7b44c790203010001300d06092a864886f70d01010505000381810019e093e618b0bc28edda46b5da22a2066a7175c03e7b50ffd4f24a81a93d5ae26441afd3ef07888a1ca5419611c8467a7ee7a98b5197278f7835d4b2bb78d380fca53e4a3748c09c028869d63854f3fc6549ae02e3957eef38c2d6c690c5eb3b17e3bc325932369f8636519bfa10e58329f63b2a7455d28a63e644aea327c44e"));
            eninVar.c(new Signature("308204a830820390a003020102020900b3998086d056cffa300d06092a864886f70d0101040500308194310b3009060355040613025553311330110603550408130a43616c69666f726e6961311630140603550407130d4d6f756e7461696e20566965773110300e060355040a1307416e64726f69643110300e060355040b1307416e64726f69643110300e06035504031307416e64726f69643122302006092a864886f70d0109011613616e64726f696440616e64726f69642e636f6d301e170d3038303431353232343035305a170d3335303930313232343035305a308194310b3009060355040613025553311330110603550408130a43616c69666f726e6961311630140603550407130d4d6f756e7461696e20566965773110300e060355040a1307416e64726f69643110300e060355040b1307416e64726f69643110300e06035504031307416e64726f69643122302006092a864886f70d0109011613616e64726f696440616e64726f69642e636f6d30820120300d06092a864886f70d01010105000382010d003082010802820101009c780592ac0d5d381cdeaa65ecc8a6006e36480c6d7207b12011be50863aabe2b55d009adf7146d6f2202280c7cd4d7bdb26243b8a806c26b34b137523a49268224904dc01493e7c0acf1a05c874f69b037b60309d9074d24280e16bad2a8734361951eaf72a482d09b204b1875e12ac98c1aa773d6800b9eafde56d58bed8e8da16f9a360099c37a834a6dfedb7b6b44a049e07a269fccf2c5496f2cf36d64df90a3b8d8f34a3baab4cf53371ab27719b3ba58754ad0c53fc14e1db45d51e234fbbe93c9ba4edf9ce54261350ec535607bf69a2ff4aa07db5f7ea200d09a6c1b49e21402f89ed1190893aab5a9180f152e82f85a45753cf5fc19071c5eec827020103a381fc3081f9301d0603551d0e041604144fe4a0b3dd9cba29f71d7287c4e7c38f2086c2993081c90603551d230481c13081be80144fe4a0b3dd9cba29f71d7287c4e7c38f2086c299a1819aa48197308194310b3009060355040613025553311330110603550408130a43616c69666f726e6961311630140603550407130d4d6f756e7461696e20566965773110300e060355040a1307416e64726f69643110300e060355040b1307416e64726f69643110300e06035504031307416e64726f69643122302006092a864886f70d0109011613616e64726f696440616e64726f69642e636f6d820900b3998086d056cffa300c0603551d13040530030101ff300d06092a864886f70d01010405000382010100572551b8d93a1f73de0f6d469f86dad6701400293c88a0cd7cd778b73dafcc197fab76e6212e56c1c761cfc42fd733de52c50ae08814cefc0a3b5a1a4346054d829f1d82b42b2048bf88b5d14929ef85f60edd12d72d55657e22e3e85d04c831d613d19938bb8982247fa321256ba12d1d6a8f92ea1db1c373317ba0c037f0d1aff645aef224979fba6e7a14bc025c71b98138cef3ddfc059617cf24845cf7b40d6382f7275ed738495ab6e5931b9421765c491b72fb68e080dbdb58c2029d347c8b328ce43ef6a8b15533edfbe989bd6a48dd4b202eda94c6ab8dd5b8399203daae2ed446232e4fe9bd961394c6300e5138e3cfd285e6e4e483538cb8b1b357"));
        }
        for (String str : emye.d(";").g((CharSequence) a.e())) {
            if (!TextUtils.isEmpty(str)) {
                engw j2 = engw.j(emye.d(",").g(str));
                if (j2.size() != 2) {
                    csjb e2 = f.e();
                    e2.I("Invalid package & signature line");
                    e2.A("packageSignature", str);
                    e2.r();
                } else {
                    eninVar.c(new Signature((String) j2.get(1)));
                }
            }
        }
        enip g = eninVar.g();
        cskc cskcVar = f;
        csjb c3 = cskcVar.c();
        c3.I("Returning valid signatures");
        c3.y("count", g.size());
        c3.r();
        int i = evcp.a;
        feey evcoVar = new evco(packageManager, g);
        if (((Boolean) c.e()).booleanValue()) {
            cskcVar.p("Allowing any app to connect to EMAS");
        } else {
            cskcVar.p("Only selected apps are allowed to connect to EMAS");
            fefbVar = evcoVar;
        }
        HashMap hashMap = new HashMap();
        feez.b("com.google.android.apps.messaging.externalapi.proto.ExternalMessagingApi", fefbVar, hashMap);
        evgyVar.b(feez.a(hashMap));
    }
}
